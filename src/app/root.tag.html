import riot from 'riot'

<app-root>
  <parts-header></parts-header>
  <parts-help if={isHelpOpen}></parts-help>
  <parts-mockbox patterns={mockPatterns}></parts-mockbox>
  <parts-iframe-mock if={mockUrl} data-src={mockUrl}></parts-iframe-mock>

  <script>
    import './parts/question'
    import './parts/header'
    import './parts/help'
    import './parts/iframe-mock'
    import './parts/mockbox'
    import state from '../state'
    import { observe } from 'dob'

    this.isHelpOpen = false
    this.mockUrl = ''

    observe(() => {
      this.update({
        isHelpOpen: state.help.isOpen,
        mockUrl: state.mock.url,
        mockPatterns: state.mock.patterns
      })
    })
  </script>
</app-root>
